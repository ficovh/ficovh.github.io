<!DOCTYPE html>
<html lang="es">
<head>
          <title>BSDguy.org - PostgreSQL en OpenBSD</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />




    <meta name="tags" content="openbsd" />
    <meta name="tags" content="postgresql" />
    <meta name="tags" content="bsd" />
    <meta name="tags" content="dbms" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="./">BSDguy.org</a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li class="active"><a href="./category/blog.html">blog</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="./postgresql-openbsd-es.html" rel="bookmark"
         title="Permalink to PostgreSQL en OpenBSD">PostgreSQL en OpenBSD</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2012-10-04T10:20:00+02:00">
      Thu 04 October 2012
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="./author/francisco-valladolid.html">Francisco Valladolid</a>
    </address>
    <div class="category">
        Category: <a href="./category/blog.html">blog</a>
    </div>
    <div class="tags">
        Tags:
            <a href="./tag/openbsd.html">openbsd</a>
            <a href="./tag/postgresql.html">postgresql</a>
            <a href="./tag/bsd.html">bsd</a>
            <a href="./tag/dbms.html">dbms</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>Tengo un VPS corriendo <a class="reference external" href="http://www.openbsd.org">OpenBSD</a> 5.0 y
necesito instalar PostgreSQL. Algunas veces es necesario escribir para
no olvidar, sobre todo en cuestiones triviales. La forma mas facil es
instalar PostgreSQL en OpenBSD es via paquetes binarios, existe una
forma a traves de ports, mediante un conjuntos de makefiles para
compilar paquetes desde los fuentes; Si tienes instalado ports, la forma
de hacerlo es:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> /usr/ports/databases/postgresql
<span class="gp">$ </span>sudo make install clean
</pre></div>
<p>Y con binarios:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span> <span class="nv">PKG_PATH</span><span class="o">=</span>ftp://ftp.openbsd.org/pub/OpenBSD/5.0/packages/i386
<span class="gp">$ </span>sudo pkg_add -v postgresql-server-9.0.4p1.tgz
</pre></div>
<p>La version server, automaticamente resuelve las dependencias e instala la
version cliente, una vez instalada tendremos que iniciar el cluster
donde PostgreSQL almacenara las bases de datos y solo es posible con
usuario _postgresql</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>sudo su - _postgresql
<span class="gp">$ </span>/usr/local/bin/initdb -D /var/postgresql/data
</pre></div>
<p>Lo anterior prepara el directorio /var/postgresql/data para poder ser
usado mas adelante y a continuacion iniciamos el demonio para poder
empezar a trabajar.</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>/usr/local/bin/pg_ctl -D /var/postgresql/data -l logfile start
<span class="go">  server starting</span>
</pre></div>
<p>Vamos a crear un usuario para poder crear bases de datos;</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>psql postgres
<span class="go">postgres=# create role db_admin login password &#39;algun_passw&#39; createdb</span>
<span class="go">           valid until &#39;infinity&#39;;</span>
<span class="go">CREATE ROLE</span>
<span class="go">postgres=#</span>
</pre></div>
<p>Adicionalmente, editamos el archivo /var/postgresql/data/pg_hba.conf
para agregar seguridad a nivel de usuario a la base de datos, usando el
metodo md5, postgresql debe estar detenido.</p>
<pre class="literal-block">
local   all             all                                     md5
</pre>
<p>Es necesario dejar el usuario _postgresql y salir para probar nuestro
trabajo, de esta manera el usuario db_admin y el password
'algun_password' fue creado, la forma de acceder ahora es de la sig.
manera.</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>createdb -U db_admin book
<span class="gp">$ </span>psql -U db_admin book
<span class="go">psql (9.0.4)</span>
<span class="go">Type &quot;help&quot; for help.</span>

<span class="go">book=&gt;</span>
</pre></div>
<p>Con esto hacemos una parte de la configuracion basica, PostgreSQL es un
sistema de base de datos avanzado, profesional y libre compite con
cualquier DBMS comercial actual. El sitio web de
<a class="reference external" href="http://www.postgreSQL.org">PostgreSQL</a> contiene mas informacion
sobre todos los detalles de este sistema. Si tu como yo estas usando
OpenBSD, espero y esto pueda ayudarte un poco en esa tarea. Mas
informacion:</p>
<p><a class="reference external" href="http://www.openbsd.org">Sitio web de OpenBSD</a></p>
<p><a class="reference external" href="http://www.postgresql.org/docs">Documentacion PostgreSQL</a></p>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>